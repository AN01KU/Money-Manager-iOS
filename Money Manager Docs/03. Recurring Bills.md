# ğŸ”„ Recurring Bills

## ğŸ¯ Purpose

Automate regular expenses (rent, subscriptions, utilities) so they don't require manual entry each time.

---

## ğŸ“¸ UI Wireframes

### Recurring Bills List

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Recurring Bills              [+] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ACTIVE BILLS                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± Phone Bill            â‚¹1,299  â”‚
â”‚    Monthly               Utilities
â”‚    Next: Jan 1, 2026             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ  Rent                 â‚¹15,000  â”‚
â”‚    Monthly               Housing â”‚
â”‚    Next: Jan 1, 2026             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜• Subscription Coffee     â‚¹99   â”‚
â”‚    Weekly                Food    â”‚
â”‚    Next: Dec 29, 2025            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’ª Gym Membership          â‚¹500  â”‚
â”‚    Monthly               Health  â”‚
â”‚    Next: Jan 10, 2026            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PAUSED BILLS                     â”‚ (Collapsed)
â”‚ â–¶ï¸ 1 paused bill                â”‚
â”‚                                  â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Recurring Bill Detail

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Phone Bill               [â‹¯]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           ğŸ“± Phone Bill          â”‚
â”‚           â‚¹1,299                 â”‚
â”‚                                  â”‚
â”‚  Monthly | Utilities             â”‚
â”‚                                  â”‚
â”‚  Next due: Jan 1, 2026           â”‚
â”‚  Last paid: Dec 1, 2025          â”‚
â”‚  Total paid this year: â‚¹15,588   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  RECURRENCE DETAILS              â”‚
â”‚  Start date: Dec 1, 2024         â”‚
â”‚  End date: Never                 â”‚
â”‚  Pattern: Every 1st of month     â”‚
â”‚  Status: Active [Toggle âœ“]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UPCOMING (Next 3 dates)         â”‚
â”‚  âœ“ Dec 1, 2025   â‚¹1,299         â”‚
â”‚  â—¯ Jan 1, 2026   â‚¹1,299         â”‚
â”‚  â—¯ Feb 1, 2026   â‚¹1,299         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ACTIONS                         â”‚
â”‚  [Edit]  [Pause]  [Delete]       â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Edit/Create Form

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Edit Bill              [Cancel] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚
â”‚ Bill Name *                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Phone Bill                 â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚ Amount *                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ â‚¹ 1,299.00                 â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚ Category *                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸ“± Utilities           â–¼   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚ Frequency *                      â”‚
â”‚ â—‰ Daily   â—¯ Weekly  â—¯ Monthly   â”‚
â”‚                                  â”‚
â”‚ Monthly Pattern                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ On the 1st             â–¼   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚ Start Date *                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Dec 1, 2024            â–¼   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚ End Date                         â”‚
â”‚ â—‰ Never ends                     â”‚
â”‚ â—¯ Ends on                        â”‚
â”‚                                  â”‚
â”‚                                  â”‚
â”‚              [Save Changes]      â”‚
â”‚              [Delete Bill]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Part 1: Recurring Bills List

Accessible from:
- Home Screen: Tab/Section "Recurring Bills"
- Settings/Dashboard: Card "Manage Recurring"

### Display

**List of all active recurring bills**

Each row shows:
```
[Icon] Bill Name                Amount
       Frequency              Category
```

**Example**
```
ğŸ“± Phone Bill                  â‚¹1,299
   Monthly                     Utilities

ğŸ  Rent                        â‚¹15,000
   Monthly                     Housing

â˜• Subscription Coffee         â‚¹99
   Weekly                      Food & Dining
```

### Sorting
- By frequency (Monthly â†’ Weekly â†’ Daily)
- Then alphabetically

### Inactive Bills
- Separate section: "Paused Bills" (collapsed by default)
- Can reactivate with toggle

---

## ğŸ§© Part 2: Recurring Bill Details

**Tap a bill to view/edit**

Shows:
1. **Summary Card**
   - Icon + Name
   - Amount + Frequency
   - Next due date
   - Total paid this year (optional)

2. **Recurrence Details**
   - Start date
   - End date (if set) or "Ongoing"
   - Frequency & pattern
   - Next 3 upcoming dates

3. **Associated Expenses**
   - Last 5 auto-generated expenses
   - List shows: Date | Amount | Status (confirmed/pending)

4. **Actions**
   - Edit button
   - Pause/Resume toggle
   - Delete button (with confirmation)

---

## ğŸ§© Part 3: Create/Edit Recurring Bill

**Access**: Home â†’ Add Expense â†’ Toggle "Make this recurring?"

### Form Fields

1. **Bill Name** (required)
   - Placeholder: "e.g., Rent, Netflix, Gym"
   - Max 50 characters

2. **Amount** (required)
   - Decimal support
   - Currency symbol shown

3. **Category** (required)
   - Dropdown with predefined + custom categories
   - Visual indicator (color/icon)

4. **Frequency** (required)
   - Radio buttons: Daily / Weekly / Monthly
   - Default: Monthly

5. **Start Date** (required)
   - Today or earlier
   - Date picker

6. **End Date** (optional)
   - "Never ends" (default)
   - "Ends on" â†’ Date picker
   - Cannot be before start date

7. **Day of Week/Month** (depends on frequency)

   **If Monthly**: 
   - "On the 1st" (or nth) of each month
   - Handles month-end edge case (e.g., Feb 30 â†’ Feb 28)

   **If Weekly**:
   - Select day(s) of week (checkboxes)
   - "Every Monday" or "Monday & Friday"

   **If Daily**:
   - Optional: Skip weekends
   - Optional: Skip specific days

8. **Notes** (optional)
   - Max 200 characters
   - "Add reminders or details"

---

## ğŸ§© Part 4: Auto-Generation Logic

### When Expenses are Created

Recurring bills automatically generate expenses:

1. **On App Launch**
   - Check all recurring bills
   - Generate any missing expenses for missed dates
   - Backfill if app wasn't opened for days

2. **On Expense Add**
   - If user just added a new recurring bill, optionally generate starting today

3. **On Schedule** (Future)
   - Background task at midnight
   - Create new expenses without opening app

### Generation Rules

- Generate ONLY if: start_date â‰¤ today â‰¤ end_date (or no end date)
- Skip already-generated expenses (idempotent)
- Set time to: Not time-specific (or default 00:00)
- Set as "linked to recurring" for easy tracking

### Display on Home Screen

Generated expenses show:
- Recurring badge ğŸ”„
- Link back to recurring bill
- No time (since it's a recurring template)

---

## ğŸ§© Part 5: Pause & Resume

### Pause a Recurring Bill
- Stops generating new expenses
- Existing expenses remain
- Show "Paused" badge in list
- Can resume anytime

### Delete a Recurring Bill
- Delete template (future generations stop)
- Option 1: Keep existing expenses
- Option 2: Delete all generated expenses (dangerous)
- Recommend: Keep expenses, pause template

---

## ğŸ§© Part 6: Edge Cases

| Scenario | Behavior |
|----------|----------|
| Monthly bill on Jan 31, Feb doesn't have 31st | Generate on Feb 28/29 |
| App paused for 2 months | Backfill all missed dates on next launch |
| Edit frequency mid-month | Adjust next generation date, don't regenerate past |
| Weekly bill with gap in weeks | Skip those weeks as expected |
| End date is today | Generate one final expense, then stop |

---

## ğŸ“ Layout Specifications

**List Item Height**: 60-70pt
**Section Header**: Bold, 14pt, gray background
**Toggle Button**: Standard iOS toggle
**Action Buttons**: 
- Edit: Icon-only or "Edit"
- Delete: Red/destructive color
- Pause: Icon toggle

---

## ğŸ¯ Acceptance Criteria

- âœ… Can create recurring bill in < 15 seconds
- âœ… Auto-generation works correctly (no duplicates)
- âœ… Pause/resume preserves data
- âœ… Delete shows clear warning
- âœ… Month-end edge case handled (e.g., Jan 31 â†’ Feb 28)
- âœ… Backfilling works if app paused for days
- âœ… Each recurring bill appears on home screen as "recurring" badge
