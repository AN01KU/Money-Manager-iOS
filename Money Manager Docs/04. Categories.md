# ğŸ·ï¸ Categories

## ğŸ¯ Purpose

Organize expenses into meaningful groups for tracking and analytics. Support both predefined and custom categories.

---

## ğŸ“¸ UI Wireframes

### Category List (Management Screen)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Categories                   [+] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PREDEFINED (Built-in)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Food & Dining      [12 items] â”‚
â”‚ ğŸš— Transport          [8 items]  â”‚
â”‚ ğŸ  Housing            [5 items]  â”‚
â”‚ ğŸ’Š Health & Medical   [3 items]  â”‚
â”‚ ğŸ›ï¸ Shopping           [15 items] â”‚
â”‚ ğŸ“± Utilities          [4 items]  â”‚
â”‚ ğŸ® Entertainment      [9 items]  â”‚
â”‚ âœˆï¸ Travel             [6 items]  â”‚
â”‚ ğŸ’¼ Work & Professional[2 items]  â”‚
â”‚ ğŸ“ Education          [1 item]   â”‚
â”‚                                  â”‚
â”‚ CUSTOM CATEGORIES                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¬ Subscriptions      [8 items]  â”‚
â”‚    [Edit]  [Hide]  [Delete]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’» Tech & Gadgets     [6 items]  â”‚
â”‚    [Edit]  [Hide]  [Delete]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ¿ Wellness           [2 items]  â”‚
â”‚    [Edit]  [Hide]  [Delete]      â”‚
â”‚                                  â”‚
â”‚ HIDDEN CATEGORIES                â”‚
â”‚ â–¶ï¸ 1 hidden category             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Add Custom Category Form

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Add Category           [Cancel] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚
â”‚ Category Name *                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Subscriptions              â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚ Icon                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸ¬               [Select]  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ [ğŸ¬] [ğŸ“º] [ğŸµ] [ğŸ®] [ğŸ’»]       â”‚ Common Emojis
â”‚ [ğŸ“š] [ğŸ“] [ğŸ¨] [ğŸ­] [+More]    â”‚
â”‚                                  â”‚
â”‚ Color                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ â–  #FF6B6B             â–¼    â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â–  â–  â–  â–  â–  â–  â–  â–  â–  â–           â”‚ Color Palette
â”‚ (Red, Orange, Yellow, Green...) â”‚
â”‚                                  â”‚
â”‚                                  â”‚
â”‚              [Create Category]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Category Picker (With Search)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Select Category              [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Search categories...          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PREDEFINED                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Food & Dining    âœ“            â”‚ â† Selected
â”‚ ğŸš— Transport                     â”‚
â”‚ ğŸ“± Utilities                     â”‚
â”‚ ğŸ›ï¸ Shopping                      â”‚
â”‚ ğŸ® Entertainment                 â”‚
â”‚                                  â”‚
â”‚ CUSTOM                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¬ Subscriptions                 â”‚
â”‚ ğŸ’» Tech & Gadgets                â”‚
â”‚ ğŸŒ¿ Wellness                      â”‚
â”‚                                  â”‚
â”‚ [+ Add New Category]             â”‚
â”‚                                  â”‚
â”‚              [Done]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Pie Chart Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  December 2025         [Categories]
â”‚  â‚¹32,450 / â‚¹50,000               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚
â”‚        CATEGORY BREAKDOWN        â”‚
â”‚                                  â”‚
â”‚           â—â—‘ â—                   â”‚
â”‚        â—‘     â—•      â—            â”‚ (Actual pie chart)
â”‚       â—•        â—•   â—             â”‚
â”‚        â—‘     â—‘ â—‘                 â”‚
â”‚                                  â”‚
â”‚  ğŸ” Food & Dining    35% â‚¹11,308â”‚
â”‚  ğŸ›ï¸ Shopping         20% â‚¹6,490 â”‚
â”‚  ğŸš— Transport        15% â‚¹4,867 â”‚
â”‚  ğŸ“± Utilities        12% â‚¹3,894 â”‚
â”‚  ğŸ® Entertainment     8% â‚¹2,596 â”‚
â”‚  âœˆï¸ Travel            5% â‚¹1,623 â”‚
â”‚  Other               5% â‚¹1,674  â”‚
â”‚                                  â”‚
â”‚                                  â”‚
â”‚             [Back]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Part 1: Predefined Categories

### Default Categories (Built-in)

These come with the app, cannot be deleted, but can be hidden.

| Icon | Category Name | Color | Notes |
|------|---------------|-------|-------|
| ğŸ” | Food & Dining | #FF6B6B (Red) | Restaurants, groceries, food delivery |
| ğŸš— | Transport | #4ECDC4 (Teal) | Uber, auto, parking, gas, bikes |
| ğŸ  | Housing | #45B7D1 (Blue) | Rent, mortgage, home repairs |
| ğŸ’Š | Health & Medical | #96CEB4 (Green) | Doctors, medicines, gym, wellness |
| ğŸ›ï¸ | Shopping | #FFEAA7 (Yellow) | Clothes, accessories, household items |
| ğŸ“± | Utilities | #DDA15E (Brown) | Internet, electricity, phone, water |
| ğŸ® | Entertainment | #BC6C25 (Dark Orange) | Movies, games, subscriptions, events |
| âœˆï¸ | Travel | #8E44AD (Purple) | Flights, hotels, tours |
| ğŸ’¼ | Work & Professional | #34495E (Dark Gray) | Office supplies, training, work meals |
| ğŸ“ | Education | #3498DB (Light Blue) | Books, courses, tuition |
| ğŸ’³ | Debt & Payments | #2C3E50 (Charcoal) | Loan payments, credit card bills |
| ğŸ“š | Books & Media | #E74C3C (Dark Red) | Books, audiobooks, magazines |
| ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ | Family & Kids | #F39C12 (Gold) | Kids activities, family events |
| ğŸ | Gifts | #E91E63 (Pink) | Gifts for others, donations |
| ğŸ“Š | Other | #95A5A6 (Gray) | Miscellaneous, uncategorized |

---

## ğŸ§© Part 2: Custom Categories

### Create Custom Category

Users can add their own categories with:

1. **Name** (required)
   - Max 30 characters
   - Unique (no duplicates)
   - Can't use predefined category names

2. **Icon** (optional)
   - Emoji picker (system default)
   - Select from common icons
   - Or upload custom emoji

3. **Color** (optional)
   - Color picker
   - Suggested palettes
   - Default: Gray

### Storage

- **Stored in**: Swift Data (custom categories)
- **Accessed**: Add Expense flow â†’ Category picker
- **Persistence**: Synced with expenses
- **Migration**: If custom category deleted, existing expenses keep reference (shows "Deleted Category")

### Edit Custom Category

- Tap category to edit
- Can change: Name, Icon, Color
- Cannot delete predefined categories
- Option to "Hide" custom categories (soft delete)

### Delete Custom Category

- Soft delete (hide) by default
- Existing expenses: Show "Archived Category" or original color
- Option for hard delete: Show warning

---

## ğŸ§© Part 3: Category Picker

### Location
- Add Expense form
- Recurring Bill form
- Settings â†’ Manage Categories

### Display

**Predefined Categories** (first section)
- Grid or list view
- 3-4 per row
- Each shows: Icon + Name
- Selected: Highlight + checkmark

**Custom Categories** (second section)
- Same layout as predefined
- "Add Custom" button at bottom

**Search** (if 15+ categories)
- Search box at top
- Filter by name
- Show matching categories

---

## ğŸ§© Part 4: Category Management Screen

Accessible from: Settings â†’ Categories / Dashboard â†’ Manage Categories

### Display

**Tab 1: All Categories**
- Predefined categories (top, locked/not editable)
- Custom categories (editable)
- Show usage count per category (e.g., "12 expenses")

**Tab 2: Hidden Categories**
- Show hidden/archived custom categories
- Option to restore

### Actions Per Category

**Predefined Categories**
- View (read-only)
- Option to "Hide from picker" (user preference)

**Custom Categories**
- Edit (name, icon, color)
- Hide/Show toggle
- Delete (with warning about existing expenses)

### Pie Chart Integration

Categories used in pie chart are:
- All visible predefined categories
- All visible custom categories
- Categories with at least 1 expense

---

## ğŸ“ Data Model (Swift Data)

### Custom Category Entity

```swift
@Model
final class CustomCategory {
    var id: UUID
    var name: String              // "Subscriptions"
    var icon: String              // "ğŸ¬" (emoji)
    var color: String             // Hex color "#FF6B6B"
    var isHidden: Bool            // Default: false
    var createdAt: Date
    var expenses: [Expense]?      // Relationship
    
    init(name: String, icon: String, color: String) {
        self.id = UUID()
        self.name = name
        self.icon = icon
        self.color = color
        self.isHidden = false
        self.createdAt = Date()
    }
}
```

### Predefined Categories (in Code)

Hardcoded enum or struct:
```swift
enum PredefinedCategory: String, CaseIterable {
    case food = "Food & Dining"
    case transport = "Transport"
    case housing = "Housing"
    // ... etc
    
    var icon: String { ... }
    var color: String { ... }
}
```

---

## ğŸ§© Part 5: Category Usage

### In Expenses

Each `Expense` has:
```swift
category: String  // References either:
                  // - PredefinedCategory.rawValue
                  // - CustomCategory.id or .name
```

### In Pie Chart

- Calculate total per category
- Show percentage of total
- Sort by amount (descending)
- Combine < 5% into "Other"

### In Filters/Search

Categories used for:
- Filter expenses by category (future)
- Search by category name (future)
- Pie chart breakdown

---

## ğŸ¯ Acceptance Criteria

- âœ… 15 predefined categories built-in
- âœ… Can create unlimited custom categories
- âœ… Each category has icon + color
- âœ… Custom categories stored in Swift Data
- âœ… Category picker intuitive & searchable
- âœ… Can edit/delete custom categories
- âœ… Predefined categories cannot be deleted
- âœ… Pie chart shows all active categories
- âœ… Existing expenses linked to deleted categories handled gracefully
